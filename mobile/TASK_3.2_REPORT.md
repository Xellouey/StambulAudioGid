# –û—Ç—á–µ—Ç –ø–æ –∑–∞–¥–∞—á–µ 3.2: –°–æ–∑–¥–∞–Ω–∏–µ API-—Å–ª–æ—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. API-—Å–ª–æ–π

- **–°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `api.ts`** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å–æ Strapi API
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏:**
  - `getTours()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ç—É—Ä–æ–≤
  - `getTourDetails(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—É—Ä–µ —Å POI
  - `getPOIDetails(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ—á–∫–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã interceptors** –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤:** API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Strapi –Ω–∞ –ø–æ—Ä—Ç—É 8080

### 2. –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **–°–æ–∑–¥–∞–Ω `AppNavigator`** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º React Navigation Stack
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —ç–∫—Ä–∞–Ω—ã:**
  - `HomeScreen` - —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤
  - `TourDetailScreen` - –¥–µ—Ç–∞–ª–∏ —Ç—É—Ä–∞
  - `MapScreen` - –∫–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** —Å TypeScript

### 3. –¢–∏–ø—ã TypeScript

- **–û–±—â–∏–µ —Ç–∏–ø—ã** –≤ `shared/types/index.ts`:
  - `Tour` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—É—Ä–∞
  - `PointOfInterest` - —Ç–æ—á–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∞
  - `StrapiResponse` - –æ—Ç–≤–µ—Ç—ã API
  - `StrapiError` - –æ—à–∏–±–∫–∏ API
- **–¢–∏–ø—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** –≤ `navigation/types.ts`
- **–ú–æ–±–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã** –≤ `types/index.ts`

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

- **–•—É–∫ `useErrorHandler`** –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **–•—É–∫–∏ –¥–ª—è API** (`useTours`, `useTourDetails`) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - `ErrorBoundary` - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - `LoadingSpinner` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:** loading, error, success

### 5. –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- **HomeScreen:**
  - –°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
  - Pull-to-refresh —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ loading —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–Ω–∞, –≤—Ä–µ–º—è, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)

- **TourDetailScreen:**
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—É—Ä–µ
  - –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–µ—Å–∞
  - –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Ç—É—Ä"
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ freemium –º–æ–¥–µ–ª–∏

- **MapScreen:**
  - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∫–∞—Ä—Ç—ã
  - –ó–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Yandex MapKit
  - –ü—Ä–µ–≤—å—é —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∞

### 6. –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã

- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
  - `formatDuration()` - –≤—Ä–µ–º—è –≤ —á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
  - `formatDistance()` - —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –∫–º/–º
  - `formatPrice()` - —Ü–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
  - `getImageUrl()`, `getAudioUrl()` - URL –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ Strapi API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`
- ‚úÖ Endpoint `/api/tours` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ï—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ç—É—Ä "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –î–µ—Ä–±–µ–Ω—Ç"

### –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
mobile/src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ErrorBoundary.tsx
‚îÇ   ‚îú‚îÄ‚îÄ LoadingSpinner.tsx
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useErrorHandler.ts
‚îÇ   ‚îú‚îÄ‚îÄ useApi.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ navigation/
‚îÇ   ‚îú‚îÄ‚îÄ AppNavigator.tsx
‚îÇ   ‚îú‚îÄ‚îÄ types.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.tsx
‚îÇ   ‚îú‚îÄ‚îÄ TourDetailScreen.tsx
‚îÇ   ‚îú‚îÄ‚îÄ MapScreen.tsx
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ formatters.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ App.tsx
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ó–∞–¥–∞—á–∞ 3.2 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –ì–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –∫ –∑–∞–¥–∞—á–µ 3.3 - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–æ–≤ (UI) –∏–ª–∏ –∑–∞–¥–∞—á–µ 3.4 - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex MapKit.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **React Native:** 0.80.2
- **React Navigation:** v7
- **Axios:** –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **TypeScript:** –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Strapi API:** –ø–æ—Ä—Ç 8080
- **Metro bundler:** –ø–æ—Ä—Ç 8081
